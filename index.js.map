{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/modal.js","../src/js/constants.js","../src/js/products-api.js","../src/js/render-function.js","../src/js/handlers.js","../src/home.js"],"sourcesContent":["export const refs = {\n  categoriesList: document.querySelector('.categories'),\n  productsList: document.querySelector('.products'),\n  modal: document.querySelector('.modal'),\n  modalContent: document.querySelector('.modal-product'),\n};\n","import { refs } from './refs';\n\nfunction closeModal() {\n  refs.modal.classList.remove('modal--is-open');\n  document.body.style.overflow = '';\n  document.removeEventListener('keydown', handleEscPress);\n}\n\nfunction handleEscPress(event) {\n  if (event.code === 'Escape') {\n    closeModal();\n  }\n}\n\n// -----------------Відкриття модалки з продуктом---------//\nexport async function openModal() {\n  refs.modal.classList.add('modal--is-open');\n  document.body.style.overflow = 'hidden';\n  document.addEventListener('keydown', handleEscPress);\n}\n// ------------Ставимо всі необхідні слухачі--------------//\n// function setupModalListeners(productId) {\n//   // Закриття по кнопці\n//   modal\n//     .querySelector('.modal__close-btn')\n//     .addEventListener('click', closeModal);\n\n//   //---------------Закриття по кліку на бекдроп-----//\n//   modal.addEventListener('click', event => {\n//     if (event.target === modal) {\n//       closeModal();\n//     }\n//   });\n\n//   //-----------Обробники для кнопок-----------//\n//   modal\n//     .querySelector('.modal-product__wishlist-btn')\n//     .addEventListener('click', () => {\n//       toggleItemInStorage('wishlist', productId);\n//       updateWishlistCount();\n//       // ---------Оновлюємо текст кнопки-------//\n//       const btn = modal.querySelector('.modal-product__wishlist-btn');\n//       btn.textContent = getFromStorage('wishlist').includes(productId)\n//         ? 'Remove from Wishlist'\n//         : 'Add to Wishlist';\n//     });\n\n//   modal\n//     .querySelector('.modal-product__cart-btn')\n//     .addEventListener('click', () => {\n//       toggleItemInStorage('cart', productId);\n//       updateCartCount();\n//       //-------Оновлюємо текст кнопки----------//\n//       const btn = modal.querySelector('.modal-product__cart-btn');\n//       btn.textContent = getFromStorage('cart').includes(productId)\n//         ? 'Remove from Cart'\n//         : 'Add to Cart';\n//     });\n// }\n","export const API_ENDPOINTS = {\n  CATEGORIES: 'products/category-list',\n  PRODUCTS_BY_CATEGORY: 'products/category/',\n  PRODUCTS: 'products',\n  PRODUCT_BY_ID: 'products/',\n  SEARCH: 'products/search',\n};\n\nexport const ITEMS_PER_PAGE = 12;\nexport const API_BASE_URL = 'https://dummyjson.com/';\n","import axios from 'axios';\n\nimport { API_BASE_URL, API_ENDPOINTS, ITEMS_PER_PAGE } from './constants';\n\naxios.defaults.baseURL = API_BASE_URL;\n\nexport async function getCategories() {\n  const { data } = await axios.get(API_ENDPOINTS.CATEGORIES);\n  return data;\n}\n\nexport async function getProducts(page) {\n  const skip = (page - 1) * ITEMS_PER_PAGE;\n  const { data } = await axios.get(\n    `${API_ENDPOINTS.PRODUCTS}?limit=${ITEMS_PER_PAGE}&skip=${skip}`\n  );\n\n  return data;\n}\n\nexport async function getProductsByCategory(category) {\n  const { data } = await axios.get(\n    `${API_ENDPOINTS.PRODUCTS_BY_CATEGORY}${category}`\n  );\n\n  return data;\n}\n","import { refs } from './refs';\n\nexport function renderProducts(products) {\n  const markup = products\n    .map(\n      product => `\n                <li class=\"products__item\" data-id=\"${product.id}\">\n                    <img class=\"products__image\" src=\"${product.thumbnail}\" alt=\"${product.title}\" />\n                    <p class=\"products__title\">${product.title}</p>\n                    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:</span> ${product.brand}</p>\n                    <p class=\"products__category\">Category: ${product.category}</p>\n                    <p class=\"products__price\">Price: $${product.price}</p>\n                </li>`\n    )\n    .join('');\n\n  refs.productsList.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function renderCategories(categories) {\n  const categoriesWithAll = ['All', ...categories];\n  const markup = categoriesWithAll\n    .map(category => {\n      return `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${category}</button>\n </li>`;\n    })\n    .join('');\n  refs.categoriesList.innerHTML = markup;\n}\n","import { openModal } from './modal';\nimport { getCategories, getProducts } from './products-api';\nimport { renderCategories, renderProducts } from './render-function';\n\nlet currentPage = 1;\n\nexport async function initHomePage() {\n  try {\n    const categories = await getCategories();\n    renderCategories(categories);\n\n    const { products } = await getProducts(currentPage);\n    renderProducts(products);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function handleProductClick() {\n  openModal();\n}\n","import { handleProductClick, initHomePage } from './js/handlers';\nimport { refs } from './js/refs';\n\ndocument.addEventListener('DOMContentLoaded', initHomePage);\nrefs.productsList.addEventListener('click', handleProductClick);\n"],"names":["refs","closeModal","handleEscPress","event","openModal","API_ENDPOINTS","ITEMS_PER_PAGE","API_BASE_URL","axios","getCategories","data","getProducts","page","skip","renderProducts","products","markup","product","renderCategories","categories","category","currentPage","initHomePage","error","handleProductClick"],"mappings":"oFAAO,MAAMA,EAAO,CAClB,eAAgB,SAAS,cAAc,aAAa,EACpD,aAAc,SAAS,cAAc,WAAW,EAChD,MAAO,SAAS,cAAc,QAAQ,EACtC,aAAc,SAAS,cAAc,gBAAgB,CACvD,ECHA,SAASC,GAAa,CACpBD,EAAK,MAAM,UAAU,OAAO,gBAAgB,EAC5C,SAAS,KAAK,MAAM,SAAW,GAC/B,SAAS,oBAAoB,UAAWE,CAAc,CACxD,CAEA,SAASA,EAAeC,EAAO,CACzBA,EAAM,OAAS,UACjBF,GAEJ,CAGO,eAAeG,GAAY,CAChCJ,EAAK,MAAM,UAAU,IAAI,gBAAgB,EACzC,SAAS,KAAK,MAAM,SAAW,SAC/B,SAAS,iBAAiB,UAAWE,CAAc,CACrD,CCnBO,MAAMG,EAAgB,CAC3B,WAAY,yBACZ,qBAAsB,qBACtB,SAAU,WACV,cAAe,YACf,OAAQ,iBACV,EAEaC,EAAiB,GACjBC,EAAe,yBCL5BC,EAAM,SAAS,QAAUD,EAElB,eAAeE,GAAgB,CACpC,KAAM,CAAE,KAAAC,CAAI,EAAK,MAAMF,EAAM,IAAIH,EAAc,UAAU,EACzD,OAAOK,CACT,CAEO,eAAeC,EAAYC,EAAM,CACtC,MAAMC,GAAQD,EAAO,GAAKN,EACpB,CAAE,KAAAI,CAAI,EAAK,MAAMF,EAAM,IAC3B,GAAGH,EAAc,QAAQ,UAAUC,CAAc,SAASO,CAAI,EAClE,EAEE,OAAOH,CACT,CChBO,SAASI,EAAeC,EAAU,CACvC,MAAMC,EAASD,EACZ,IACCE,GAAW;AAAA,sDACqCA,EAAQ,EAAE;AAAA,wDACRA,EAAQ,SAAS,UAAUA,EAAQ,KAAK;AAAA,iDAC/CA,EAAQ,KAAK;AAAA,mGACqCA,EAAQ,KAAK;AAAA,8DAClDA,EAAQ,QAAQ;AAAA,yDACrBA,EAAQ,KAAK;AAAA,sBAEjE,EACA,KAAK,EAAE,EAEVjB,EAAK,aAAa,mBAAmB,YAAagB,CAAM,CAC1D,CAEO,SAASE,EAAiBC,EAAY,CAE3C,MAAMH,EADoB,CAAC,MAAO,GAAGG,CAAU,EAE5C,IAAIC,GACI;AAAA,mDACsCA,CAAQ;AAAA,OAEtD,EACA,KAAK,EAAE,EACVpB,EAAK,eAAe,UAAYgB,CAClC,CCzBA,IAAIK,EAAc,EAEX,eAAeC,GAAe,CACnC,GAAI,CACF,MAAMH,EAAa,MAAMV,IACzBS,EAAiBC,CAAU,EAE3B,KAAM,CAAE,SAAAJ,CAAU,EAAG,MAAMJ,EAAYU,CAAW,EAClDP,EAAeC,CAAQ,CACxB,OAAQQ,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CAEO,eAAeC,GAAqB,CACzCpB,GACF,CCjBA,SAAS,iBAAiB,mBAAoBkB,CAAY,EAC1DtB,EAAK,aAAa,iBAAiB,QAASwB,CAAkB"}